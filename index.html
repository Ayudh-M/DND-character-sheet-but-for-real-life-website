<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>D&D IRL Character Sheet — Modular</title>
  <meta name="description" content="A D&D-like character sheet for real life. Modular code; saves locally or syncs to GitHub.">
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='48' fill='%23000'/%3E%3Ctext x='50' y='60' text-anchor='middle' font-size='60' fill='%23fff' font-family='monospace'%3EM%3C/text%3E%3C/svg%3E">
  <!-- Tailwind CDN for utility classes (no build step) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="./styles.css">
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-50 to-indigo-50 text-slate-900">
  <header class="max-w-6xl mx-auto px-5 pt-8 pb-4">
    <div class="flex flex-wrap items-center justify-between gap-3">
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-xl bg-indigo-600 text-white grid place-items-center font-bold">IRL</div>
        <div>
          <h1 class="text-2xl font-bold">D&D IRL Character Sheet (Modular)</h1>
          <p class="muted text-sm">No database. Save locally or sync to your GitHub repo.</p>
        </div>
      </div>
      <div class="flex items-center gap-2">
        <button id="btnExport" class="btn btn-ghost">Export JSON</button>
        <label class="btn btn-ghost cursor-pointer">
          <input id="fileImport" type="file" accept="application/json" class="hidden">
          Import JSON
        </label>
        <button id="btnSaveLocal" class="btn btn-primary">Save Locally</button>
      </div>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-5 pb-20">
    <!-- Identity card -->
    <section class="card mb-6">
      <div class="grid md:grid-cols-3 gap-5">
        <div>
          <div class="section-title mb-2">Character</div>
          <div class="grid gap-3">
            <label class="text-sm">
              <span class="stat-label">Sheet Name</span>
              <input id="sheetName" class="input" placeholder="e.g., Ayudh RL Sheet">
            </label>
            <label class="text-sm">
              <span class="stat-label">Persona / Class</span>
              <input id="persona" class="input" placeholder="e.g., Research Wizard, Startup Bard">
            </label>
            <label class="text-sm">
              <span class="stat-label">Notes</span>
              <textarea id="notes" class="input" rows="3" placeholder="Freeform notes (goals, feats, gear)..."></textarea>
            </label>
          </div>
        </div>

        <div>
          <div class="section-title mb-2">Portrait</div>
          <div class="grid gap-3">
            <img id="portraitPreview" alt="Portrait Preview" class="w-full aspect-[4/3] object-cover rounded-xl border border-slate-200 bg-slate-100">
            <div class="flex items-center gap-3">
              <label class="btn btn-ghost cursor-pointer">
                <input id="portraitFile" type="file" accept="image/*" class="hidden">
                Upload Image
              </label>
              <button id="btnRemovePortrait" class="btn btn-ghost">Remove</button>
            </div>
          </div>
        </div>

        <div>
          <div class="section-title mb-2">GitHub Sync</div>
          <div class="grid gap-3">
            <label class="text-sm">
              <span class="stat-label">Fine-grained PAT (repo contents: read & write)</span>
              <input id="ghToken" type="password" class="input" placeholder="ghp_...">
            </label>
            <div class="grid grid-cols-2 gap-3">
              <label class="text-sm">
                <span class="stat-label">Owner</span>
                <input id="ghOwner" class="input" placeholder="your-username">
              </label>
              <label class="text-sm">
                <span class="stat-label">Repo</span>
                <input id="ghRepo" class="input" placeholder="dnd-irl-sheets">
              </label>
            </div>
            <div class="grid grid-cols-2 gap-3">
              <label class="text-sm">
                <span class="stat-label">Branch</span>
                <input id="ghBranch" class="input" value="main">
              </label>
              <label class="text-sm">
                <span class="stat-label">File Path (JSON)</span>
                <input id="ghPath" class="input" placeholder="data/ayu.json">
              </label>
            </div>
            <div class="flex items-center gap-2">
              <button id="btnLoadGitHub" class="btn btn-ghost">Load from GitHub</button>
              <button id="btnSaveGitHub" class="btn btn-primary">Save to GitHub</button>
            </div>
            <p class="text-xs muted">Your token & repo info are stored in a <strong>cookie</strong> on this device (and can be cleared anytime).</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Stats grid -->
    <section id="statsGrid" class="grid md:grid-cols-3 gap-5"></section>

    <!-- Modals -->
    <dialog id="modalScale" class="modal">
      <div class="card max-w-3xl mx-auto">
        <div class="flex items-center justify-between mb-3">
          <h3 id="scaleTitle" class="text-xl font-semibold"></h3>
          <button id="closeScale" class="btn btn-ghost">Close</button>
        </div>
        <div class="overflow-x-auto">
          <table class="w-full desc-table">
            <thead>
              <tr>
                <th style="width:60px">Score</th>
                <th>Descriptor</th>
                <th>Real‑life equivalents</th>
              </tr>
            </thead>
            <tbody id="scaleBody"></tbody>
          </table>
        </div>
      </div>
    </dialog>
  </main>

  <footer class="max-w-6xl mx-auto px-5 pb-10">
    <div class="text-xs text-slate-600">
      <p class="mb-2">
        This is a playful tool inspired by D&D. Metrics are rough, mythic, and not medical/training advice.
        Save locally or sync to your own GitHub repo. Consider creating a <span class="badge">fine‑grained token</span> limited to a single repository.
      </p>
      <p>© 2025 – MIT License.</p>
    </div>
  </footer>

  <script type="module" src="./js/main.js"></script>
</body>
</html>
